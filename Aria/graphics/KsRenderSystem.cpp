/************************************************************************************************/
/** 
 * @file		KsRenderSystem.cpp
 * @brief		描画システム
 * @author		A567W
 * @date		----/--/--
 * @since		----/--/--
 * @version		1.0
 */
/************************************************************************************************/

/*==============================================================================================*/
/*                                 << インクルード >>                                           */
/*==============================================================================================*/
#include "KsRenderSystem.h"

/*==============================================================================================*/
/*                                     << 定義 >>                                               */
/*==============================================================================================*/

/*==============================================================================================*/
/*                                     << 宣言 >>                                               */
/*==============================================================================================*/
ksNS_KS_BEGIN

template<> KsRenderSystem* KsSingleton< KsRenderSystem >::m_pInstance = 0;

/************************************************************************************************/
/*
 *
 */
/************************************************************************************************/
KsRenderSystem& KsRenderSystem::getInstance()
{  
	return (*m_pInstance);  
}
/************************************************************************************************/
/*
 *
 */
/************************************************************************************************/
KsRenderSystem* KsRenderSystem::getInstancePtr()
{
	return m_pInstance;
}

/************************************************************************************************/
/*
 * コンストラクタ
 */
/************************************************************************************************/
KsRenderSystem::KsRenderSystem()
	: m_pRenderContext( 0 )
	, m_pTextureManager( 0 )
	, m_pHardwareBufferManager( 0 )
	, m_pShaderManager( 0 )
	, m_clearFlags( 0 )
	, m_clearDepth( 0 )
	, m_clearStencil( 0 )
{
	/* 初期状態でのレンダーステートをセットしておく */
	//m_renderState.m_
	//m_renderState.m_srcBlend = ksBLEND_ONE;
	//m_renderState.m_dstBlend = ksBLEND_ZERO;
	//m_clearColor.m_color = 0;
}

/************************************************************************************************/
/*
 * 
 */
/************************************************************************************************/
KsRenderSystem::~KsRenderSystem()
{
	ksDELETE( m_pShaderManager );
	ksDELETE( m_pHardwareBufferManager );
	ksDELETE( m_pTextureManager );
	ksDELETE( m_pRenderContext );
}

ksNS_KS_END


